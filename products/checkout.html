<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Checkout | Secret Sanctuary</title>
  <meta name="description" content="Complete your Secret Sanctuary order via WhatsApp." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

  <!-- Favicon (optional) -->
  <link rel="icon" href="data:,">

  <!-- Main CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- GSAP (if used globally) -->
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js" defer></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js" defer></script>
</head>

<body>

<!-- ================= HERO ================= -->
<header id="hero" class="hero">

  <!-- Background layers -->
  <div class="hero-organic"></div>
  <div class="hero-ambient"></div>
  <div class="hero-overlay"></div>

  <!-- Navigation -->
  <nav class="nav">
    <div class="logo">
      <img src="assets/images/logo.png" alt="Secret Sanctuary logo">
      <span>Secret Sanctuary</span>
    </div>
  </nav>

</header>

<!-- ================= CHECKOUT ================= -->
<main class="checkout">
  <div class="checkout-container">

    <h1>Complete Your Sanctuary Order</h1>

    <!-- ================= ORDER SUMMARY ================= -->
    <div class="checkout-box">
      <h3>Order Summary</h3>

      <div id="orderSummary" class="order-summary"></div>

      <div class="total-row">
        <span>Total</span>
        <strong id="orderTotal">â‚¹0</strong>
      </div>
    </div>

    <!-- ================= CUSTOMER DETAILS ================= -->
    <div class="checkout-box">
      <h3>Your Details</h3>

      <input type="text" id="name" placeholder="Full Name" required>
      <input type="tel" id="phone" placeholder="Phone Number" required>
      <textarea id="address" placeholder="Delivery Address" required></textarea>
    </div>

    <!-- ================= PLACE ORDER ================= -->
    <button id="placeOrderBtn" class="checkout-btn">
      Place Order via WhatsApp
    </button>

  </div>
</main>

<!-- ================= CHECKOUT SCRIPT ================= -->
<script>
/* =========================
   LOAD CART
========================= */
const cart = JSON.parse(localStorage.getItem("cart")) || [];
const summary = document.getElementById("orderSummary");
const totalEl = document.getElementById("orderTotal");

let total = 0;

if (cart.length === 0) {
  summary.innerHTML = "<p>Your cart is empty ðŸŒ¿</p>";
} else {
  cart.forEach(item => {
    total += item.price * item.qty;

    const row = document.createElement("div");
    row.className = "summary-item";
    row.innerHTML = `
      <span>${item.name} Ã— ${item.qty}</span>
      <span>â‚¹${item.price * item.qty}</span>
    `;
    summary.appendChild(row);
  });
}

totalEl.textContent = `â‚¹${total}`;

/* =========================
   PLACE ORDER (WHATSAPP)
========================= */
document.getElementById("placeOrderBtn").addEventListener("click", () => {
  if (cart.length === 0) {
    alert("Your cart is empty");
    return;
  }

  const name = document.getElementById("name").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const address = document.getElementById("address").value.trim();

  if (!name || !phone || !address) {
    alert("Please fill all details");
    return;
  }

  let message = `ðŸ™ *New Order â€“ Secret Sanctuary*\n\n`;
  message += `ðŸ‘¤ Name: ${name}\n`;
  message += `ðŸ“ž Phone: ${phone}\n`;
  message += `ðŸ  Address: ${address}\n\n`;
  message += `ðŸª´ *Order Details:*\n`;

  cart.forEach(item => {
    message += `â€¢ ${item.name} Ã— ${item.qty} = â‚¹${item.price * item.qty}\n`;
  });

  message += `\nðŸ’° *Total: â‚¹${total}*`;

  const whatsappNumber = "919005252278"; // your WhatsApp number
  const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;

  window.open(whatsappURL, "_blank");
});
</script>

</body>
</html>
